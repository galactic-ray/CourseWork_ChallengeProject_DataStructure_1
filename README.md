# 辽宁省汽车牌照快速查询系统

## 项目简介

本项目是一个基于C++开发的汽车牌照快速查询系统，实现了对辽宁省内汽车牌照的高效管理和查询。系统采用模块化设计，使用链式基数排序和折半查找等高效算法，支持多种数据输入方式和查询功能。

## 功能特性

### 基本功能
- ✅ **数据录入**：支持手工录入、文件导入、随机生成三种方式
- ✅ **数据管理**：增加、修改、删除、查询车牌记录
- ✅ **数据排序**：使用静态链表链式基数排序对车牌进行排序
- ✅ **快速查找**：折半查找、城市分块索引查找
- ✅ **统计功能**：记录总数统计、各城市车牌数量统计
- ✅ **文件操作**：保存到文件、导出CSV格式
- ✅ **系统维护**：数据验证、清空数据

### 高级功能
- ✅ **前缀模糊查询**：支持按车牌前缀进行模糊匹配查询
- ✅ **性能统计**：实时显示操作次数、查找次数、排序耗时等
- ✅ **数据验证**：自动检测非法车牌和重复记录
- ✅ **按城市统计排序**：按城市车牌数量进行排序显示

## 技术特点

### 数据结构
- **顺序表**：使用`std::vector<PlateRecord>`存储车牌记录
- **静态链表**：用于链式基数排序，避免频繁内存分配
- **分块索引**：城市分块索引结构，支持快速城市查询

### 核心算法
1. **链式基数排序**（LSD）
   - 时间复杂度：O(d × n)，其中d为关键字位数（7），n为记录数
   - 空间复杂度：O(n + r)，其中r为基数（36）
   - 适用于车牌号这种固定长度的字符串排序

2. **折半查找**
   - 时间复杂度：O(log n)
   - 空间复杂度：O(1)
   - 要求数据已排序

3. **分块索引查找**
   - 时间复杂度：O(log m + k)，其中m为城市数，k为某城市记录数
   - 空间复杂度：O(m)
   - 先对城市索引二分查找，再在块内顺序查找

## 项目结构

```
code1/
├── include/              # 头文件目录
│   ├── PlateRecord.h     # 数据结构定义
│   ├── PlateDatabase.h   # 数据库核心类
│   ├── RadixSort.h       # 基数排序模块
│   ├── SearchAlgorithms.h # 查找算法模块
│   ├── FileIO.h          # 文件IO模块
│   ├── UI.h              # 用户界面模块（控制台）
│   └── Utils.h           # 工具函数
├── src/                  # 源文件目录
│   ├── PlateDatabase.cpp
│   ├── RadixSort.cpp
│   ├── SearchAlgorithms.cpp
│   ├── FileIO.cpp
│   ├── UI.cpp
│   └── Utils.cpp
├── gui/                  # GUI界面目录
│   ├── MainWindow.h      # 主窗口类
│   ├── MainWindow.cpp    # 主窗口实现
│   ├── main_gui.cpp      # GUI主程序
│   ├── PlateQuerySystem.pro # Qt项目文件
│   ├── CMakeLists.txt    # CMake配置文件
│   ├── build.sh          # 编译脚本
│   └── README_GUI.md     # GUI使用说明
├── tests/                # 测试目录
│   ├── test.cpp          # 测试程序
│   └── test_data.txt     # 测试数据
├── main.cpp              # 控制台主程序
├── Makefile              # 控制台版本编译文件
├── README.md             # 说明文档
└── ComplexityAnalysis.md # 复杂度分析报告
```

## 编译与运行

### 环境要求

**控制台版本：**
- C++11或更高版本
- GCC 4.8+ 或 Clang 3.3+
- Linux/macOS/Windows (需要支持C++11的编译器)

**GUI版本：**
- Qt 5.9 或更高版本
- C++11编译器
- Linux/macOS/Windows

### 编译方法

#### 控制台版本

```bash
# 编译主程序和测试程序
make

# 只编译主程序
make main

# 只编译测试程序
make test

# 清理生成的文件
make clean
```

#### GUI版本

**方法1：使用Qt Creator（推荐）**
1. 打开Qt Creator
2. 打开项目：`File -> Open File or Project`
3. 选择 `gui/PlateQuerySystem.pro`
4. 配置Kit并编译

**方法2：使用qmake命令行**
```bash
cd gui
qmake PlateQuerySystem.pro
make
```

**方法3：使用编译脚本**
```bash
cd gui
./build.sh
```

**方法4：使用CMake**
```bash
cd gui
mkdir build && cd build
cmake ..
make
```

### 运行方法

#### 控制台版本

```bash
# 运行主程序
./main

# 或使用make运行
make run

# 运行测试程序
./test

# 或使用make运行测试
make runtest
```

#### GUI版本

编译完成后运行：
```bash
# 如果在gui目录
./PlateQuerySystem

# 如果在bin目录
../bin/PlateQuerySystem

# 或使用绝对路径
./bin/PlateQuerySystem
```

详细GUI使用说明请参考 `gui/README_GUI.md`

## 使用说明

### 主菜单功能

1. **数据录入**
   - 手工录入：按提示输入车牌号、城市、车主信息
   - 文件导入：从文本文件导入（格式：车牌 城市 车主）
   - 随机生成：自动生成指定数量的测试数据

2. **数据管理**
   - 显示全部记录
   - 修改记录：根据车牌号修改城市和车主信息
   - 删除记录：根据车牌号删除记录（需确认）

3. **排序与查找**
   - 链式基数排序：对车牌号进行排序
   - 折半查找：快速查找指定车牌（需先排序）
   - 城市分块查找：查找指定城市的所有车牌
   - 前缀模糊查询：根据车牌前缀查找

4. **统计与分析**
   - 统计信息：显示总数和各城市数量
   - 按城市统计排序：按车牌数量排序显示
   - 性能统计：显示操作和查找统计
   - 数据验证：检查数据完整性

5. **文件操作**
   - 保存到文件：保存为文本格式
   - 导出CSV：导出为CSV格式，可用Excel打开

6. **系统维护**
   - 清空所有数据（需确认）

### 车牌号格式

- 长度：固定7位
- 字符：数字（0-9）和大写字母（A-Z）
- 示例：`01B7238`、`ABC1234`、`1234567`

### 文件格式

**文本格式**（空格分隔）：
```
01B7238 沈阳 张三
02C4567 大连 李四
```

**CSV格式**：
```csv
车牌号,城市,车主
01B7238,沈阳,张三
02C4567,大连,李四
```

## 测试用例

系统提供了完整的测试程序，包括：

1. **工具函数测试**：车牌验证、字符串转换
2. **基数排序测试**：验证排序正确性
3. **查找算法测试**：折半查找、顺序查找、前缀查找
4. **数据库操作测试**：增删改查、非法数据验证
5. **城市索引测试**：分块索引功能
6. **性能测试**：不同规模数据的性能对比

运行测试：
```bash
make runtest
```

## 算法复杂度分析

详细的时间复杂度和空间复杂度分析请参考 `ComplexityAnalysis.md` 文件。

### 主要算法复杂度总结

| 操作 | 时间复杂度 | 空间复杂度 | 说明 |
|------|-----------|-----------|------|
| 链式基数排序 | O(d×n) | O(n+r) | d=7, r=36 |
| 折半查找 | O(log n) | O(1) | 需先排序 |
| 顺序查找 | O(n) | O(1) | 未排序时使用 |
| 分块索引查找 | O(log m+k) | O(m) | m=城市数, k=块内记录数 |
| 前缀查找 | O(n) | O(k) | k=结果数量 |

## 创新点

1. **智能算法选择**：系统自动根据数据是否排序选择最优查找算法
2. **性能监控**：实时统计操作次数、查找次数、排序耗时等
3. **数据验证**：自动检测非法车牌和重复记录
4. **模块化设计**：清晰的模块划分，便于维护和扩展
5. **美观界面**：ASCII艺术界面，提升用户体验

## 注意事项

1. 车牌号必须为7位，只包含数字和大写字母
2. 折半查找需要先对数据进行排序
3. 城市分块查找需要先建立索引
4. 删除和清空操作不可恢复，请谨慎操作

## 作者信息

- 项目名称：辽宁省汽车牌照快速查询系统
- 开发语言：C++
- 数据结构：顺序表、静态链表、分块索引
- 核心算法：链式基数排序、折半查找、分块索引查找

## 许可证

本项目为课程作业项目，仅供学习使用。

